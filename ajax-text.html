<body>

    <div class="result"></div>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script>
        // 모든 거북이 조회
        let all_turtle = function () {
            var data1 = null
            $(document).ready(function () {
                $.ajax({
                    type: 'GET',
                    url: 'http://107.21.77.37/turtle/',
                    // jsonp 값을 전달할 때 사용되는 파라미터 변수명
                    // 이 속성을 생략하면 callback 파라미터 변수명으로 전달된다.
                    success: function (data, textStatus, jqXHR) {
                        console.log('success');
                        console.log(data);
                        var data1 = {
                            email: data[0].email,
                            name: data[0].name,
                            number: data[0].num,
                            ease: data[0].ease,
                            best: data[0].best,
                            created: data[0].created,
                        }
                        // console.log(JSON.parse(data[0]));
                        console.log(data1)
                        $('.result').html('dfdjflks' + data1.email);
                    },
                    complete: function (d) {
                        console.log('d')
                    },
                    error: function (d) {
                        console.log('실패' + d.responseText)
                    }
                });
            });
        }

        // 해당 유저 거북이 조회
        let get_turtle = function (email) {
            var data1 = null
            console.log(email)
            $(document).ready(function () {
                $.ajax({
                    type: "GET",
                    url: 'http://107.21.77.37/turtle/user?user_email=w2019@e-mirim.hs.kr',

                    //전달할 때 사용되는 파라미터 변수명
                    // 이 속성을 생략하면 callback 파라미터 변수명으로 전달된다.
                    success: function (data, textStatus, jqXHR) {
                        console.log('success');
                        console.log(data);
                        var data1 = {
                            email: data[0].email,
                            name: data[0].name,
                            number: data[0].num,
                            ease: data[0].ease,
                            best: data[0].best,
                            created: data[0].created,
                        }
                        console.log(data1)
                        // console.log(JSON.parse(data[0]));
                        console.log(data1)
                        $('.result').html('dfdjflks' + data1.email);
                    },
                    complete: function (d) {
                        console.log('d')
                    },
                    error: function (xhr, textStatus, error) {
                        console.log(xhr.responseText);
                        console.log(textStatus);
                        console.log(error);
                    }
                });
            });
        }

        // 해당 유저 거북이 조회
        let get_start_turtle = function () {
            var data1 = null
            $(document).ready(function () {
                $.ajax({
                    type: "GET",
                    url: 'http://107.21.77.37/turtle/date?user_email=w2019@e-mirim.hs.kr',

                    //전달할 때 사용되는 파라미터 변수명
                    // 이 속성을 생략하면 callback 파라미터 변수명으로 전달된다.
                    success: function (data, textStatus, jqXHR) {
                        console.log('success');
                        console.log(data);
                        var data1 = {
                            email: data[0].email,
                            name: data[0].name,
                            number: data[0].num,
                            ease: data[0].ease,
                            best: data[0].best,
                            created: data[0].created,
                        }
                        console.log(data1)
                        // console.log(JSON.parse(data[0]));
                        console.log(data1)
                        $('.result').html('dfdjflks' + data1.email);
                    },
                    complete: function (d) {
                        console.log('d')
                    },
                    error: function (xhr, textStatus, error) {
                        console.log(xhr.responseText);
                        console.log(textStatus);
                        console.log(error);
                    }
                });
            });
        }

        // 거북이 정보 수정
        let edit_turtle = function (email) {
            var data1 = null
            console.log(email)
            $(document).ready(function () {
                $.ajax({
                    type: "PUT",
                    url: 'http://107.21.77.37/turtle/user?user_email=w2015@e-mirim.hs.kr',
                    dataType: "json",
                    accept: "application/json",
                    data: JSON.stringify({
                        "email": email,
                        "name": "거북이",
                        "num": 2,
                        "best": 25,
                        "ease": 30
                    }),
                    //전달할 때 사용되는 파라미터 변수명
                    // 이 속성을 생략하면 callback 파라미터 변수명으로 전달된다.
                    success: function (data, textStatus, jqXHR) {
                        console.log('success');

                        console.log(data)
                        // console.log(JSON.parse(data[0]));
                    },
                    complete: function (d) {
                        console.log('d')
                    },
                    error: function (xhr, textStatus, error) {
                        console.log(xhr.responseText);
                        console.log(textStatus);
                        console.log(error);
                    }
                });
            });
        }

        // 거북이 삭제
        let delete_turtle = function () {
            var data1 = null
            $(document).ready(function () {
                $.ajax({
                    type: "DELETE",
                    url: 'http://107.21.77.37/turtle/user?user_email=w2018@e-mirim.hs.kr',

                    //전달할 때 사용되는 파라미터 변수명
                    // 이 속성을 생략하면 callback 파라미터 변수명으로 전달된다.
                    success: function (data, textStatus, jqXHR) {
                        console.log('success');

                        // console.log(JSON.parse(data[0]));
                        console.log(data1)
                        $('.result').html('dfdjflks' + data1.email);
                    },
                    complete: function (d) {
                        console.log('d')
                    },
                    error: function (xhr, textStatus, error) {
                        console.log(xhr.responseText);
                        console.log(textStatus);
                        console.log(error);
                    }
                });
            });
        }

        // get_turtle("w2019@e-mirim.hs.kr")
        // edit_turtle("w2015@e-mirim.hs.kr")
        // get_turtle1("w2015@e-mirim.hs.kr", "끄북이", 3);
        // edit_turtle1("w2015@e-mirim.hs.kr", "끄북이", 3);
        // get_start_turtle()
        // delete_turtle()
    </script>
</body>